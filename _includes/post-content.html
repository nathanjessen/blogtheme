<article class="relative">
  <!-- Background decorative elements -->
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute inset-y-0 left-0 w-1/2 bg-gradient-to-r from-gray-50 to-transparent"></div>
  </div>

  <!-- Article header -->
  <header class="relative max-w-prose mx-auto pt-6 pb-12">
    <div class="text-center">
      {% if page.category %}
      <div class="mb-4">
        <a href="{{ site.baseurl }}/categories#{{ page.category | slugify }}"
          class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-50 text-primary-700 hover:bg-primary-100 transition-colors duration-300">
          {{ page.category }}
        </a>
      </div>
      {% endif %}

      <h1 class="text-4xl font-extrabold text-gray-900 tracking-tight text-balance sm:text-5xl md:text-6xl">
        {{ page.title }}
      </h1>

      {% if page.description %}
      <p class="mt-4 text-xl text-gray-500 text-pretty max-w-3xl mx-auto">
        {{ page.description }}
      </p>
      {% endif %}

      <div class="mt-6 flex items-center justify-center space-x-6 text-gray-500">
        <!-- Author info -->
        {% if page.author %}
        <div class="flex items-center space-x-2">
          {% if page.author_img %}
          <img class="h-10 w-10 rounded-full object-cover ring-2 ring-white" src="{{ page.author_img }}"
            alt="{{ page.author }}">
          {% endif %}
          <div class="text-left">
            <div class="text-sm font-medium text-gray-900">{{ page.author }}</div>
            {% if page.author_title %}
            <div class="text-xs text-gray-500">{{ page.author_title }}</div>
            {% endif %}
          </div>
        </div>
        {% endif %}

        <!-- Date -->
        <div class="flex items-center space-x-1">
          <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd"
              d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"
              clip-rule="evenodd" />
          </svg>
          <time datetime="{{ page.date | date_to_xmlschema }}" class="text-sm">
            {{ page.date | date: "%b %-d, %Y" }}
          </time>
        </div>

        <!-- Reading time -->
        {% if page.reading_time %}
        <div class="flex items-center space-x-1">
          <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd"
              d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"
              clip-rule="evenodd" />
          </svg>
          <span class="text-sm">{{ page.reading_time }} min read</span>
        </div>
        {% endif %}
      </div>
    </div>

    {% if page.img %}
    <div class="mt-8 relative aspect-w-16 aspect-h-9 rounded-xl overflow-hidden bg-gray-100">
      <img class="object-cover" src="{{ page.img }}" alt="{{ page.img_alt | default: page.title }}">
      {% if page.img_caption %}
      <div class="absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/60 to-transparent p-4">
        <p class="text-sm text-white/90">{{ page.img_caption }}</p>
      </div>
      {% endif %}
    </div>
    {% endif %}
  </header>

  <!-- Article content -->
  <div class="relative max-w-prose mx-auto">
    <div class="prose prose-lg prose-primary mx-auto text-pretty">
      {{ content }}
    </div>

    {% if page.tags %}
    <div class="mt-12 pt-6 border-t border-gray-100">
      <h2 class="text-sm font-semibold text-gray-900 tracking-wider uppercase">Tags</h2>
      <div class="mt-3 flex flex-wrap gap-2">
        {% for tag in page.tags %}
        <a href="{{ site.baseurl }}/tags#{{ tag | slugify }}"
          class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-50 text-primary-700 ring-1 ring-primary-600/10 hover:bg-primary-100 hover:text-primary-800 hover:ring-primary-600/20 transition-all duration-300">
          {{ tag }}
        </a>
        {% endfor %}
      </div>
    </div>
    {% endif %}

    <!-- Author bio -->
    {% if page.author_bio %}
    <div class="mt-12 pt-6 border-t border-gray-100">
      <div class="flex items-center space-x-4">
        {% if page.author_img %}
        <img class="h-12 w-12 rounded-full object-cover ring-2 ring-white" src="{{ page.author_img }}"
          alt="{{ page.author }}">
        {% endif %}
        <div>
          <div class="text-base font-medium text-gray-900">About {{ page.author }}</div>
          <div class="mt-1 text-sm text-gray-500 text-pretty">{{ page.author_bio }}</div>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Share buttons -->
    <div class="mt-12 pt-6 border-t border-gray-100">
      <h2 class="text-sm font-semibold text-gray-900 tracking-wider uppercase">Share this article</h2>
      <div class="mt-3 flex space-x-4">
        <a href="https://twitter.com/intent/tweet?text={{ page.title | url_encode }}&url={{ site.url }}{{ page.url | url_encode }}"
          target="_blank" rel="noopener noreferrer"
          class="text-gray-400 hover:text-primary-500 transition-colors duration-300">
          <span class="sr-only">Share on Twitter</span>
          {% include social-icons/twitter.svg %}
        </a>
        <a href="https://www.linkedin.com/shareArticle?mini=true&url={{ site.url }}{{ page.url | url_encode }}&title={{ page.title | url_encode }}"
          target="_blank" rel="noopener noreferrer"
          class="text-gray-400 hover:text-primary-500 transition-colors duration-300">
          <span class="sr-only">Share on LinkedIn</span>
          {% include social-icons/linkedin.svg %}
        </a>
        <a href="https://www.facebook.com/sharer/sharer.php?u={{ site.url }}{{ page.url | url_encode }}"
          target="_blank" rel="noopener noreferrer"
          class="text-gray-400 hover:text-primary-500 transition-colors duration-300">
          <span class="sr-only">Share on Facebook</span>
          {% include social-icons/facebook.svg %}
        </a>
      </div>
    </div>
  </div>
</article>

<style>
  /* Custom prose styles */
  .prose {
    --tw-prose-links: theme('colors.primary.600');
    --tw-prose-invert-links: theme('colors.primary.400');
  }
  
  .prose :where(code):not(:where([class~="not-prose"] *)) {
    @apply bg-gray-100 px-1.5 py-0.5 rounded text-gray-900 text-sm;
  }

  .prose :where(pre):not(:where([class~="not-prose"] *)) {
    @apply bg-gray-900 text-gray-50 rounded-lg overflow-x-auto;
  }

  .prose :where(blockquote):not(:where([class~="not-prose"] *)) {
    @apply border-l-4 border-primary-500/50;
  }

  .prose :where(h1,h2,h3,h4):not(:where([class~="not-prose"] *)) {
    @apply text-balance;
  }

  .prose :where(p,ul,ol):not(:where([class~="not-prose"] *)) {
    @apply text-pretty;
  }
</style>
